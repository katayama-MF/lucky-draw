# ブランチ戦略：lucky-draw と lucky-draw-cloud

---

## 方針

| 名前 | 内容 | ブランチ |
|------|------|----------|
| **lucky-draw** | 現行版。静的・ローカル保存。GitHub 共有＋ローカル or 静的デプロイで利用。 | **main**（既定） |
| **lucky-draw-cloud** | 追加開発版。2台同期（Firebase 等）を入れたもの。クラウドで同じ状態を共有。 | **cloud** または **feature/cloud-sync** |

**「lucky-draw-cloud を作る」＝ cloud 用ブランチで開発する**、という形にします。

---

## ブランチの使い方

### リポジトリは 1 つのまま

- **main**: 今の lucky-draw（このバージョンを本番として使う）
- **cloud**: main から分岐し、設定・履歴の同期機能を追加した「lucky-draw-cloud」

### 運用イメージ

```
main   ───●───●───●───●───  現行（静的）
            \
cloud        ●───●───●───  2台同期版の開発
```

- バグ修正や表示の調整など **共通で入れたい変更** → まず main で直す → cloud に `merge main` で取り込む
- **同期機能だけの変更** → cloud ブランチでコミット
- デプロイ: main → 静的サイト（Vercel 等）、cloud → 同期対応版の URL（別デプロイ or 別プロジェクト）

### ブランチを作るとき（初回）

```bash
# 今の main の状態から cloud 用ブランチを作成
git checkout -b cloud
# 以降、同期機能の開発はこのブランチで
```

---

## 「別リポジトリ」にしない理由（案）

- 同じ HTML/CSS/JS の大部分を共有できる
- main の修正を cloud にマージするだけで取り込める
- 1 リポジトリで「どちらも見える」ので、スタッフが迷いにくい

別リポジトリ（lucky-draw-cloud を新規作成）でも可能ですが、コードの重複と main からの取り込み作業が増えます。まずは **ブランチで分ける** 形を推奨します。

---

## まとめ

- **lucky-draw** ＝ 今のバージョン。**main ブランチ**がそのまま「lucky-draw」の本番。
- **lucky-draw-cloud** ＝ **cloud ブランチ**で追加開発する 2 台同期版。
- ブランチで分けるので、リポジトリは 1 つのままです。
