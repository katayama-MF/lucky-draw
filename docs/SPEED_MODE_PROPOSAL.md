# サクサクモード企画：演出時間の短縮

## 現状

- **標準モード**：「回転の加速3fr / 減速60fr」＋ **演出フェーズは T=3 固定**
- **サクサクモード**：回転のみ「加速1fr / 減速20fr」で短縮。**リール停止後の演出（パターン・確定→当選）は標準と同じ長さ**

つまり「サクサク」は**回転が早いだけ**で、止まった後の「焦らし・カウント・赤確定・フラッシュ→当選表示」は変わっていない。

---

## 企画：サクサク＝「演出時間も全体的に短縮」

### 1. 演出タイムスケール T をモードで切り替える

| 項目 | 標準 | サクサク |
|------|------|----------|
| **T** | 3 | **1**（約1/3） |

`stopSpin` 内の `const T=3` を **`config.speedMode === 'fast' ? 1 : 3`** に変更する。

**影響範囲（すべて T に比例）：**
- パターン別の `smoothMove` フレーム数（例: 30*T → 標準90fr / サクサク30fr）
- カウント・焦らしの `setTimeout`（300*T, 600*T, 500*T, 250*T, (200+step*80)*T 等）
- 確定フラッシュ後の `500*T` → `600*T`（赤確定〜当選表示までの待ち）

**体感：** リールが止まってから当選表示までが約 **1/3** になる。

---

### 2. 減速フェーズの短縮（オプション）

| 項目 | 標準 | サクサク |
|------|------|----------|
| **MIN_DECEL_SEC** | 3秒 | **1.5秒** |
| **SPIN_CONTINUE_MS** | 1000ms | **500ms** |

- 減速「最低3秒」をサクサク時は 1.5 秒にすると、ストップ押下〜着地までの時間が短くなる。
- 「ストップ後1秒は回転継続」を 0.5 秒にすると、より早く減速に入る。

※ 既にサクサクでは減速フレーム数が 20fr と短いが、**sequential モード**では `needSec` で計算された時間が使われるため、MIN_DECEL_SEC を短くする効果がある。

---

### 3. 大演出（ワープ・流れ星）の短縮（オプション）

| 項目 | 標準 | サクサク |
|------|------|----------|
| ワープ | dur [0.6,1.2] 等、spawn 間隔 120/200/300ms | dur と interval を約 **0.5倍** |
| 流れ星ラッシュ | interval 600/350/180ms | 同様に **0.5倍** |

予告演出の「見せ」を残しつつ、長さだけ短くする。実装は `config.speedMode === 'fast'` のとき係数で割る。

---

### 4. 当選オーバーレイの表示テンポ

| 項目 | 標準 | サクサク |
|------|------|----------|
| ステージ表示 delay | 0.15s | **0.05s** |
| ランクラベル delay | 0.3s | **0.1s** |
| 「次の抽選へ」表示 delay | 0.8s | **0.3s** |

body に `.speed-fast` を付与し、CSS で `.speed-fast .winner-overlay.show` の transition-delay を上書きする。

---

## 実装の優先度

1. **必須**: T の切り替え（`config.speedMode` で T=1 or 3）→ 一番効く。
2. **推奨**: MIN_DECEL_SEC / SPIN_CONTINUE_MS の短縮、当選オーバーレイの delay 短縮。
3. **余裕があれば**: ワープ・流れ星の時間短縮。

---

## 標準とサクサクの違いまとめ

| フェーズ | 標準 | サクサク |
|----------|------|----------|
| 回転 加速 | 3fr | 1fr |
| 回転 減速 | 60fr | 20fr |
| ストップ後 回転継続 | 1秒 | 0.5秒（案） |
| 減速 最低時間 | 3秒 | 1.5秒（案） |
| リール停止〜確定 パターン | T=3 基準 | T=1 基準 |
| 確定〜当選表示 | 0.5*T + 0.6*T = 3.3秒 | 0.5 + 0.6 = 1.1秒 |
| 当選オーバーレイ アニメ | 0.15 / 0.3 / 0.8s delay | 0.05 / 0.1 / 0.3s |
| ワープ・流れ星 | 現状 | 約半分（案） |

これにより「サクサク」＝**回転も演出も一通り短いモード**として成立する。
